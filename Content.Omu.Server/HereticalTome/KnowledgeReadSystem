
using Content.Server.Explosion.EntitySystems;
using Content.Server.Heretic.Components;
using Content.Shared.Heretic.Prototypes;
using Content.Shared.Heretic;
using Content.Shared.Interaction;
using Content.Shared.Popups;
using Content.Shared.Tag;
using Robust.Shared.Audio;
using Robust.Shared.Audio.Systems;
using Robust.Shared.Prototypes;
using System.Text;
using System.Linq;
using Robust.Shared.Serialization.Manager;
using Content.Shared.Examine;
using Content.Shared._Goobstation.Heretic.Components;
using Content.Omu.Server.HereticalTome.Components;

namespace Content.Omu.Server.HereticalTome;

public sealed class KnowledgeReadSystem : entitysystem
{
[Dependency] private readonly HereticKnowledgeSystem _knowledge = default!;

private void InitializeTrigger()
{
    SubscribeLocalEvent<KnowledgeReadComponent, TriggerEvent>(OnTrigger);
}

private void OnTrigger(EntityUid performer, ref TriggerEvent args)
{

    if (args.user == null)
        return;

    if (HasComp<HereticComponent>(performer))
    {
    _knowledge.AddKnowledge(performer, hereticComp, (ProtoId<HereticKnowledgePrototype>) knowledgebook);
    }
}
}
